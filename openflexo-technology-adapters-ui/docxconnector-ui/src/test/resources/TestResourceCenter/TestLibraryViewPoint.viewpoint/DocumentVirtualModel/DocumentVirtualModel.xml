<?xml version="1.0" encoding="UTF-8"?>
<VirtualModel id="0" useSpecificDescriptions="false" userID="FLX" isAbstract="false" flexoID="1" name="DocumentVirtualModel">
  <FlexoConcept id="1" useSpecificDescriptions="false" userID="FLX" isAbstract="false" flexoID="13" name="BookDescriptionSection">
    <Inspector id="2" flexoID="3" useSpecificDescriptions="false" userID="FLX" inspectorTitle="BookDescriptionSection" />
    <FlexoConceptInstanceRole id="3" flexoID="5" useSpecificDescriptions="false" userID="FLX" name="book" flexoConceptTypeURI="http://openflexo.org/test/TestLibraryViewPoint/LibraryVirtualModel#Book" cloningStrategy="Reference" cardinality="ZeroOne">
      <FMLRTModelSlot idref="4" />
    </FlexoConceptInstanceRole>
    <DocXFragmentRole id="5" userID="FLX" useSpecificDescriptions="false" cloningStrategy="Clone" flexoID="11" name="section" cardinality="ZeroOne" fragment="http://openflexo.org/test/TestResourceCenter/TestResourceCenter/ExampleLibrary.docx:2936B416:395C1CE1">
      <TextBinding id="6" flexoID="6" useSpecificDescriptions="false" userID="FLX" value="book.title" isMultiline="false">
        <TextSelection id="7" startCharId="-1" useSpecificDescriptions="false" userID="FLX" endElementId="2936B416" endRunId="1" flexoID="-1" startElementId="2936B416" endCharId="-1" startRunId="0" />
      </TextBinding>
      <TextBinding id="8" flexoID="7" useSpecificDescriptions="false" userID="FLX" value="book.author" isMultiline="false">
        <TextSelection id="9" startCharId="2" useSpecificDescriptions="false" userID="FLX" endElementId="32A77C92" endRunId="1" flexoID="-1" startElementId="32A77C92" endCharId="-1" startRunId="1" />
      </TextBinding>
      <TextBinding id="10" flexoID="8" useSpecificDescriptions="false" userID="FLX" value="book.edition" isMultiline="false">
        <TextSelection id="11" startCharId="-1" useSpecificDescriptions="false" userID="FLX" endElementId="4229CE51" endRunId="2" flexoID="-1" startElementId="4229CE51" endCharId="-1" startRunId="2" />
      </TextBinding>
      <TextBinding id="12" flexoID="9" useSpecificDescriptions="false" userID="FLX" value="book.type" isMultiline="false">
        <TextSelection id="13" startCharId="2" useSpecificDescriptions="false" userID="FLX" endElementId="57259789" endRunId="1" flexoID="-1" startElementId="57259789" endCharId="-1" startRunId="1" />
      </TextBinding>
      <TextBinding id="14" flexoID="10" useSpecificDescriptions="false" userID="FLX" value="book.description" isMultiline="true">
        <TextSelection id="15" startCharId="-1" useSpecificDescriptions="false" userID="FLX" endElementId="395C1CE1" endRunId="-1" flexoID="-1" startElementId="395C1CE1" endCharId="-1" startRunId="-1" />
      </TextBinding>
      <DocXModelSlot idref="16" />
    </DocXFragmentRole>
    <CreationScheme id="17" userID="FLX" useSpecificDescriptions="false" width="800" label="createBookDescriptionSection" definePopupDefaultSize="false" height="600" flexoID="2" skipConfirmationPanel="false" name="createBookDescriptionSection">
      <BehaviourControlGraph_Sequence id="18" flexoID="14" userID="FLX" useSpecificDescriptions="false">
        <ControlGraph1_AssignationAction id="19" userID="FLX" useSpecificDescriptions="false" flexoID="15" ownerContext="controlGraph1" assign="book" name="action">
          <AssignableAction_ExpressionAction id="20" expression="parameters.aBook" flexoID="16" userID="FLX" useSpecificDescriptions="false" />
        </ControlGraph1_AssignationAction>
        <ControlGraph2_Sequence id="21" flexoID="17" ownerContext="controlGraph2" userID="FLX" useSpecificDescriptions="false">
          <ControlGraph1_AssignationAction id="22" userID="FLX" useSpecificDescriptions="false" flexoID="18" ownerContext="controlGraph1" assign="section">
            <AssignableAction_AddDocXFragment id="23" locationSemantics="InsertBeforeLastChild" location="booksDescriptionSection.startElement" useSpecificDescriptions="false" userID="FLX" flexoID="19" fragment="http://openflexo.org/test/TestResourceCenter/TestResourceCenter/TestResourceCenter/ExampleLibrary.docx:2936B416:395C1CE1">
              <DocXModelSlot idref="16" />
            </AssignableAction_AddDocXFragment>
          </ControlGraph1_AssignationAction>
          <ControlGraph2_ApplyTextBindings id="24" flexoID="20" ownerContext="controlGraph2" useSpecificDescriptions="false" userID="FLX">
            <DocXModelSlot idref="16" />
            <AccessedDocXFragmentRole idref="5" />
          </ControlGraph2_ApplyTextBindings>
        </ControlGraph2_Sequence>
      </BehaviourControlGraph_Sequence>
      <FlexoConceptInstanceParameter id="25" userID="FLX" useSpecificDescriptions="false" label="aBook" flexoID="21" isRequired="false" name="aBook" />
    </CreationScheme>
    <ActionScheme id="26" userID="FLX" useSpecificDescriptions="false" width="800" label="updateBookDescriptionSection" definePopupDefaultSize="false" height="600" flexoID="23" skipConfirmationPanel="false" name="updateBookDescriptionSection">
      <BehaviourControlGraph_ApplyTextBindings id="27" flexoID="22" useSpecificDescriptions="false" userID="FLX">
        <DocXModelSlot idref="16" />
        <AccessedDocXFragmentRole idref="5" />
      </BehaviourControlGraph_ApplyTextBindings>
    </ActionScheme>
    <ActionScheme id="28" userID="FLX" useSpecificDescriptions="false" width="800" label="reinjectDataFromBookDescriptionSection" definePopupDefaultSize="false" height="600" flexoID="25" skipConfirmationPanel="false" name="reinjectDataFromBookDescriptionSection">
      <BehaviourControlGraph_ReinjectTextBindings id="29" flexoID="24" useSpecificDescriptions="false" userID="FLX">
        <DocXModelSlot idref="16" />
        <AccessedDocXFragmentRole idref="5" />
      </BehaviourControlGraph_ReinjectTextBindings>
    </ActionScheme>
  </FlexoConcept>
  <Inspector id="30" flexoID="4" useSpecificDescriptions="false" userID="FLX" inspectorTitle="DocumentVirtualModel" />
  <DocXFragmentRole id="31" userID="FLX" useSpecificDescriptions="false" cloningStrategy="Clone" flexoID="5" name="introductionSection" cardinality="ZeroOne" fragment="http://openflexo.org/test/TestResourceCenter/TestResourceCenter/ExampleLibrary.docx:707AC6F7:43112AF5">
    <DocXModelSlot idref="16" />
  </DocXFragmentRole>
  <DocXFragmentRole id="32" userID="FLX" useSpecificDescriptions="false" cloningStrategy="Clone" flexoID="6" name="booksDescriptionSection" cardinality="ZeroOne" fragment="http://openflexo.org/test/TestResourceCenter/TestResourceCenter/ExampleLibrary.docx:6DC2CAFC:395C1CE1">
    <DocXModelSlot idref="16" />
  </DocXFragmentRole>
  <DocXFragmentRole id="33" userID="FLX" useSpecificDescriptions="false" cloningStrategy="Clone" flexoID="7" name="conclusionSection" cardinality="ZeroOne" fragment="http://openflexo.org/test/TestResourceCenter/TestResourceCenter/ExampleLibrary.docx:1A787643:2B774AAC">
    <DocXModelSlot idref="16" />
  </DocXFragmentRole>
  <ModelSlot_FMLRTModelSlot id="4" useSpecificDescriptions="false" userID="FLX" cloningStrategy="Reference" flexoID="4" isRequired="true" name="library" isReadOnly="false" virtualModelURI="http://openflexo.org/test/TestLibraryViewPoint/LibraryVirtualModel" cardinality="ZeroOne" />
  <ModelSlot_DocXModelSlot id="16" useSpecificDescriptions="false" userID="FLX" cloningStrategy="Reference" templateDocumentURI="http://openflexo.org/test/TestResourceCenter/TestResourceCenter/ExampleLibrary.docx" flexoID="12" isRequired="true" name="document" isReadOnly="false" cardinality="ZeroOne" />
  <ActionScheme id="34" userID="FLX" useSpecificDescriptions="false" width="800" label="generateDocument" definePopupDefaultSize="false" height="600" flexoID="18" skipConfirmationPanel="false" name="generateDocument">
    <BehaviourControlGraph_Sequence id="35" flexoID="8" userID="FLX" useSpecificDescriptions="false">
      <ControlGraph1_GenerateDocXDocument id="36" flexoID="9" ownerContext="controlGraph1" userID="FLX" useSpecificDescriptions="false">
        <DocXModelSlot idref="16" />
      </ControlGraph1_GenerateDocXDocument>
      <ControlGraph2_Sequence id="37" flexoID="10" ownerContext="controlGraph2" userID="FLX" useSpecificDescriptions="false">
        <ControlGraph1_AssignationAction id="38" userID="FLX" useSpecificDescriptions="false" flexoID="11" ownerContext="controlGraph1" assign="introductionSection">
          <AssignableAction_SelectGeneratedDocXFragment id="39" userID="FLX" useSpecificDescriptions="false" templateFragment="http://openflexo.org/test/TestResourceCenter/TestResourceCenter/ExampleLibrary.docx:707AC6F7:43112AF5" flexoID="12">
            <DocXModelSlot idref="16" />
          </AssignableAction_SelectGeneratedDocXFragment>
        </ControlGraph1_AssignationAction>
        <ControlGraph2_Sequence id="40" flexoID="13" ownerContext="controlGraph2" userID="FLX" useSpecificDescriptions="false">
          <ControlGraph1_AssignationAction id="41" userID="FLX" useSpecificDescriptions="false" flexoID="14" ownerContext="controlGraph1" assign="booksDescriptionSection">
            <AssignableAction_SelectGeneratedDocXFragment id="42" userID="FLX" useSpecificDescriptions="false" templateFragment="http://openflexo.org/test/TestResourceCenter/TestResourceCenter/ExampleLibrary.docx:6DC2CAFC:395C1CE1" flexoID="15">
              <DocXModelSlot idref="16" />
            </AssignableAction_SelectGeneratedDocXFragment>
          </ControlGraph1_AssignationAction>
          <ControlGraph2_AssignationAction id="43" userID="FLX" useSpecificDescriptions="false" flexoID="16" ownerContext="controlGraph2" assign="conclusionSection">
            <AssignableAction_SelectGeneratedDocXFragment id="44" userID="FLX" useSpecificDescriptions="false" templateFragment="http://openflexo.org/test/TestResourceCenter/TestResourceCenter/ExampleLibrary.docx:1A787643:2B774AAC" flexoID="17">
              <DocXModelSlot idref="16" />
            </AssignableAction_SelectGeneratedDocXFragment>
          </ControlGraph2_AssignationAction>
        </ControlGraph2_Sequence>
      </ControlGraph2_Sequence>
    </BehaviourControlGraph_Sequence>
  </ActionScheme>
  <ActionScheme id="45" userID="FLX" useSpecificDescriptions="false" width="800" label="updateDocument" definePopupDefaultSize="false" height="600" flexoID="28" skipConfirmationPanel="false" name="updateDocument">
    <BehaviourControlGraph_Sequence id="46" flexoID="19" userID="FLX" useSpecificDescriptions="false">
      <ControlGraph1_IterationAction id="47" iteratorName="book" useSpecificDescriptions="false" userID="FLX" flexoID="23" ownerContext="controlGraph1">
        <ControlGraph_MatchFlexoConceptInstance id="48" userID="FLX" useSpecificDescriptions="false" virtualModelInstance="virtualModelInstance" flexoID="22" creationSchemeURI="http://openflexo.org/test/TestLibraryViewPoint/DocumentVirtualModel#BookDescriptionSection.createBookDescriptionSection" ownerContext="controlGraph">
          <MatchingCriteria id="49" flexoID="20" useSpecificDescriptions="false" userID="FLX" value="book" patternRoleName="book" />
          <MatchingCriteria id="50" flexoID="21" useSpecificDescriptions="false" userID="FLX" patternRoleName="section" />
          <CreateFlexoConceptInstanceParameter id="51" flexoID="26" userID="FLX" useSpecificDescriptions="false" value="book" paramName="aBook" />
        </ControlGraph_MatchFlexoConceptInstance>
        <Iteration_SelectFlexoConceptInstance id="52" useSpecificDescriptions="false" userID="FLX" virtualModelInstance="library" flexoID="24" ownerContext="iterationControlGraph" flexoConceptTypeURI="http://openflexo.org/test/TestLibraryViewPoint/LibraryVirtualModel#Book">
          <FMLRTModelSlot idref="4" />
        </Iteration_SelectFlexoConceptInstance>
      </ControlGraph1_IterationAction>
      <ControlGraph2_IterationAction id="53" iteratorName="bookSection" useSpecificDescriptions="false" userID="FLX" flexoID="26" ownerContext="controlGraph2">
        <ControlGraph_ExpressionAction id="54" expression="bookSection.updateBookDescriptionSection()" flexoID="25" ownerContext="controlGraph" userID="FLX" useSpecificDescriptions="false" />
        <Iteration_SelectFlexoConceptInstance id="55" useSpecificDescriptions="false" userID="FLX" virtualModelInstance="virtualModelInstance" flexoID="27" ownerContext="iterationControlGraph" flexoConceptTypeURI="http://openflexo.org/test/TestLibraryViewPoint/DocumentVirtualModel#BookDescriptionSection">
          <FMLRTModelSlot idref="4" />
        </Iteration_SelectFlexoConceptInstance>
      </ControlGraph2_IterationAction>
    </BehaviourControlGraph_Sequence>
  </ActionScheme>
  <ActionScheme id="56" userID="FLX" useSpecificDescriptions="false" width="800" label="reinjectFromDocument" definePopupDefaultSize="false" height="600" flexoID="32" skipConfirmationPanel="false" name="reinjectFromDocument">
    <BehaviourControlGraph_IterationAction id="57" iteratorName="bookSection" useSpecificDescriptions="false" userID="FLX" flexoID="30">
      <ControlGraph_ExpressionAction id="58" expression="bookSection.reinjectDataFromBookDescriptionSection()" flexoID="29" ownerContext="controlGraph" userID="FLX" useSpecificDescriptions="false" />
      <Iteration_SelectFlexoConceptInstance id="59" useSpecificDescriptions="false" userID="FLX" virtualModelInstance="virtualModelInstance" flexoID="31" ownerContext="iterationControlGraph" flexoConceptTypeURI="http://openflexo.org/test/TestLibraryViewPoint/DocumentVirtualModel#BookDescriptionSection">
        <FMLRTModelSlot idref="4" />
      </Iteration_SelectFlexoConceptInstance>
    </BehaviourControlGraph_IterationAction>
  </ActionScheme>
</VirtualModel>
